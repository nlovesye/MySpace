<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>碰壁反弹效果</title>
    <style>
    #box
    {
        width: 600px;
        height: 400px;
        border: 1px solid red;
        margin: 50px auto;
        position: relative;
    }
    #d1
    {
        position: absolute;
        width: 50px;
        height: 50px;
        background: #f60;
        border-radius: 50%;
    }
    </style>
    <script>
    window.onload = function()
    {
        var box = document.getElementById("box");
        var d1 = document.getElementById("d1");
        var lf = 0;
        var tp = 0;
        var speed1 = 1,
        speed2 = 1;
        function action(){
            var maxw = 550;
            var maxh = 350;
            lf += speed1;
            tp += speed2;
            if(lf >= maxw){
                speed1 = -1;
                d1.style["background"] = "green";
                d1.style["borderRadius"] = "0";
            }
            if(lf <= 0){
                speed1 = 1;
                d1.style["background"] = "yellow";
                d1.style["borderRadius"] = "50%";
            }
            if(tp >= maxh){
                speed2 = -1;
                d1.style["background"] = "red";
                d1.style["borderRadius"] = "0";
            }
            if(tp <= 0){
                speed2 = 1;
                d1.style["background"] = "gray";
                d1.style["borderRadius"] = "50%";
            }
            d1.style["left"] = lf + "px";
            d1.style["top"] = tp + "px";
        }
        var t = setInterval(function(){
            action();
        },7);
    }
    </script>
</head>
<body>
    <div id="box">
        <div id="d1"></div>
    </div>
</body>
</html>