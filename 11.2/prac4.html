<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>prac4</title>
    <style>
    .pic{
        width: 900px;
        height: 600px;
        margin: 60px auto;
        opacity: 0.3;
        cursor: pointer;
        border: 4px solid pink;
        background: url(images/p2.jpg) no-repeat;
        background-size: 100% 100%;
        /*background-clip: border-box;*/
        box-sizing:border-box;
        box-shadow: 0 0 4px 6px rgba(0,0,0,0.3);
    }
    .pic img{
        width: 100%;
        height: 100%;
    }
    </style>
    <script>
    window.onload=function()
    {
        var pic = document.getElementsByTagName("div")[0];
        var t = null;
        var t2 = null;

        pic.onmouseover=function(){
            clearInterval(t2);
            clearInterval(t);
            t = setInterval(function(){
                var opc = getStyle(pic,"opacity");
                opc = opc*100+2;
                if(opc == 100){
                    clearInterval(t);
                }else{
                    pic.style.opacity = opc/100;
                }
                // console.log(opc+"dd");
            },10);
        }
         pic.onmouseout=function(){
            clearInterval(t);
            clearInterval(t2);
            t2 = setInterval(function(){
                var opc = getStyle(pic,"opacity");
                opc = opc*100-2;
                if(opc == 30){
                    clearInterval(t2);
                }else{
                    pic.style.opacity = opc/100;
                }
                // console.log(opc);
            },10);
        }
    }
    function getStyle(obj,styleName){
        if(obj.currentStyle){
            return obj.currentStyle[styleName];
        }else{
            return getComputedStyle(obj,null)[styleName];
        }
    }
    </script>
</head>
<body>
    <div class="pic">
        <!-- <img src="images/p1.jpg" alt=""> -->
    </div>
</body>
</html>